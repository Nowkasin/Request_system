<div class="scroll-wrapper">
  <h2>üìã ‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</h2>
  <p>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠</p>
  <form #form="ngForm" (ngSubmit)="onSubmit(form)" class="request-form">
    <!-- üî∂ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ -->
    <fieldset>
      <legend>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</legend>
      <div class="form-grid">
        <mat-form-field appearance="outline">
          <mat-label>‡∏£‡∏´‡∏±‡∏™‡∏á‡∏≤‡∏ô</mat-label>
          <input matInput type="text" [value]="taskCode" readonly />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</mat-label>
          <mat-select [(ngModel)]="selectedCategory" name="selectedCategory">
            <mat-option value="‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</mat-option>
            <mat-option value="‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®">‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®</mat-option>
            <mat-option value="‡∏ã‡πà‡∏≠‡∏°">‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</mat-option>
            <mat-option value="‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£">‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</mat-label>
          <mat-select [(ngModel)]="type" name="type">
            <mat-option value="Project">Project</mat-option>
            <mat-option value="Dashboard">Dashboard</mat-option>
            <mat-option value="Report">Report</mat-option>
            <mat-option value="Data">Data</mat-option>
            <mat-option value="Support">Support</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="wide-field">
          <mat-label>‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£/‡∏á‡∏≤‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</mat-label>
          <input matInput type="text" name="title" [(ngModel)]="title" required #titleCtrl="ngModel" />
          <mat-error *ngIf="form.submitted && titleCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</mat-error>
        </mat-form-field>
      </div>
    </fieldset>

    <!-- üî∂ ‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á -->
    <fieldset>
      <legend>‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</legend>
      <div class="form-grid">
        <mat-form-field appearance="outline">
          <mat-label>‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</mat-label>
          <input matInput type="text" name="reporterEmail" [(ngModel)]="reporterEmail" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</mat-label>
          <input matInput type="tel" name="reporterPhone" [(ngModel)]="reporterPhone" appPhoneMask maxlength="12"
            required #reporterPhoneCtrl="ngModel" />
          <mat-error *ngIf="form.submitted && reporterPhoneCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</mat-error>
        </mat-form-field>
      </div>
    </fieldset>

    <!-- üî∂ ‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠ -->
    <fieldset>
      <legend>‡∏ú‡∏π‡πâ‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠</legend>
      <div class="form-section">
        <!-- ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</mat-label>
          <input matInput type="text" name="coordinatoragency" [(ngModel)]="coordinatoragency" />
        </mat-form-field>
        <!-- ‡πÅ‡∏ñ‡∏ß‡∏•‡πà‡∏≤‡∏á: ‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô + ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
        <div class="row">
          <mat-form-field appearance="outline" class="half-width">
            <mat-label>‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</mat-label>
            <input matInput type="text" name="coordinatorEmail," [(ngModel)]="coordinatorEmail" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</mat-label>
            <input matInput type="tel" name="coordinatorMobile" [(ngModel)]="coordinatorMobile" appPhoneMask
              maxlength="12" required #reporterPhoneCtrl="ngModel" />
            <mat-error *ngIf="form.submitted && reporterPhoneCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</mat-error>
          </mat-form-field>
        </div>
      </div>
    </fieldset>

    <!-- üî∂ ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô -->
    <fieldset>
      <legend>‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô</legend>
      <div class="form-section">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</mat-label>
          <input matInput type="text" name="assigneeagency" [(ngModel)]="assigneeagency" />
        </mat-form-field>

        <div class="row">
          <mat-form-field appearance="outline" class="half-width">
            <mat-label>‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</mat-label>
            <input matInput type="text" name="assigneeEmail" [(ngModel)]="assigneeEmail" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</mat-label>
            <input matInput type="tel" name="assigneeMobile" [(ngModel)]="assigneeMobile" appPhoneMask maxlength="12"
              required #reporterPhoneCtrl="ngModel" />
            <mat-error *ngIf="form.submitted && reporterPhoneCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</mat-error>
          </mat-form-field>
        </div>
      </div>
    </fieldset>


    <!-- üî∂ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
    <fieldset>
      <legend>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</legend>
      <div class="form-grid">
        <mat-form-field appearance="outline">
          <mat-label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</mat-label>
          <input matInput [matDatepicker]="picker" name="sendDate" [(ngModel)]="sendDate" required
            #sendDateCtrl="ngModel" />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="form.submitted && sendDateCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</mat-error>
        </mat-form-field>

        <!-- ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ -->
        <!-- üî∂ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏° -->
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</mat-label>
          <mat-select [(ngModel)]="startTime" name="startTime" required #startTimeCtrl="ngModel"
            (selectionChange)="onStartTimeChange()">
            <mat-option *ngFor="let time of timeOptions" [value]="time">{{ time }}</mat-option>
          </mat-select>
          <mat-error *ngIf="form.submitted && startTimeCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</mat-error>
        </mat-form-field>

        <!-- üî∂ ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î -->
        <mat-form-field appearance="outline" class="half-width">
          <mat-label>‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</mat-label>
          <mat-select [(ngModel)]="endTime" name="endTime" required #endTimeCtrl="ngModel"
            (selectionChange)="validateEndTime()">
            <mat-option *ngFor="let time of filteredEndTimes" [value]="time">{{ time }}</mat-option>
          </mat-select>
          <mat-error *ngIf="form.submitted && endTimeCtrl.invalid">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</mat-error>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</mat-label>
        <textarea matInput rows="4" name="details" [(ngModel)]="details"></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</mat-label>
        <textarea matInput rows="2" name="note" [(ngModel)]="note"></textarea>
      </mat-form-field>
    </fieldset>

    <!-- üî∂ ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå -->
    <fieldset>
      <legend>üìé ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå</legend>
      <div class="form-grid">
        <div class="file-upload">
          <label for="fileInput">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</label>
          <input type="file" id="fileInput" name="attachments" multiple (change)="onFileSelected($event)" />
        </div>

        <div *ngIf="selectedFiles.length > 0" class="file-list">
          <p>‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</p>
          <ul>
            <li *ngFor="let file of selectedFiles">{{ file.name }}</li>
          </ul>
        </div>
      </div>
    </fieldset>

    <div class="form-actions">
      <button mat-raised-button color="primary" type="submit">
        <mat-icon>save</mat-icon> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
      </button>
    </div>
  </form>
</div>